{% extends 'base.html' %}
{% load static %}

{% block content %}
<div class="section section-white">
  <div class="container">
    <div class="tim-typo">
       <h1 class="title"><span class="tim-note"></span>REGISTER HERE </h1>
    </div>
            <form action="" method="post" enctype="multipart/form-data">
              {% csrf_token %}

              <div class="col-lg-3 col-sm-4">
                <div class="form-group">
                  <label for="exampleInput1" class="bmd-label-floating">Enter Username</label>
                  <input type="text" class="form-control" name="username" id="username" onkeyup="checkuser()" required>
                  <span class="bmd-help"></span>
                </div>
              </div>
              <div class="col-lg-3 col-sm-4">
                <div class="form-group">
                  <label for="exampleInput1" class="bmd-label-floating">Enter First Name</label>
                  <input type="text" class="form-control" id="exampleInput1" name="first_name" required>
                  <span class="bmd-help"></span>
                </div>
              </div>
              <div class="col-lg-3 col-sm-4">
                <div class="form-group">
                  <label for="exampleInput1" class="bmd-label-floating">Enter Last Name</label>
                  <input type="text" class="form-control" id="exampleInput1" name="last_name" required>
                  <span class="bmd-help"></span>
                </div>
              </div>
              <div class="col-lg-3 col-sm-4">
                <div class="form-group">
                  <label for="exampleInput1" class="bmd-label-floating">Enter Email</label>
                  <input type="email" class="form-control" id="exampleInput1" name="email" required>
                  <span class="bmd-help"></span>
                </div>
              </div>
              <div class="col-lg-3 col-sm-4">
                <div class="form-group">
                  <label for="exampleInput1" class="bmd-label-floating">Enter Password</label>
                  <input type="password" class="form-control" id="exampleInput1" name="password" required>
                  <span class="bmd-help"></span>
                </div>
              </div>
              <div class="col-lg-3 col-sm-4">
                <div class="form-group">
                  <label for="exampleInput1" class="bmd-label-floating">Enter Father's Name</label>
                  <input type="text" class="form-control" id="exampleInput1" name="fathers_name" required>
                  <span class="bmd-help"></span>
                </div>
              </div>
              <div class="col-lg-3 col-sm-4">
                <div class="form-group">
                  <label for="exampleInput1" class="bmd-label-floating">Enter Contact Number</label>
                  <input type="number" class="form-control" id="exampleInput1" name="contact_number" required>
                  <span class="bmd-help"></span>
                </div>
              </div>
              <br>
              <div class="col-lg-3 col-sm-4">
                <p>Upload Profile</p>
                <input type="file" class="form-control" name="image">
                
              </div>
              <div class="col-lg-3 col-sm-4">
                <div class="form-group">
                  <label for="exampleInput1" class="bmd-label-floating">Enter Address</label>
                  <input type="text" class="form-control" id="exampleInput1" name="address" required>
                  <span class="bmd-help"></span>
                </div>
              </div>
              <br>
              <div class="col-lg-3 col-sm-4">
                <div class="form-group">
                 <label>Blood Group</label>
                 <select name="blood_group" class="form-control">
                  <option value="A+">A+</option>
                  {% if data.blood_group == "A-" %}
                  <option value="A-" selected>A-</option>
                  {% else %}
                  <option value="A-">A-</option>
                  {% endif %}

                  {% if data.blood_group == "B+" %}
                  <option value="B+" selected>B+</option>
                  {% else %}
                  <option value="B+">B+</option>
                  {% endif %}

                  {% if data.blood_group == "B-" %}
                  <option value="B-" selected>B-</option>
                  {% else %}
                  <option value="B-">B-</option>
                  {% endif %}

                  {% if data.blood_group == "O+" %}
                  <option value="O+" selected>O+</option>
                  {% else %}
                  <option value="O+">O+</option>
                  {% endif %}

                  {% if data.blood_group == "0-" %}
                  <option value="O-" selected>O-</option>
                  {% else %}
                  <option value="O-">O-</option>
                  {% endif %}

                  {% if data.blood_group == "AB+" %}
                  <option value="AB+" selected>AB+</option>
                  {% else %}
                  <option value="AB+">AB+</option>
                  {% endif %}

                  {% if data.blood_group == "AB-" %}
                  <option value="AB-" selected>AB-</option>
                  {% else %}
                  <option value="AB-">AB-</option>
                  {% endif %}

                 </select>
              </div>
             </div>
              <br>
              <div class="col-lg-3 col-sm-4">
               <div class="form-group">
                <label for="">Designation</label>
                <select name="designation" class="form-control">
                    <option value="trainee">Trainee</option>
                    {% if data.designation == "developer" %}
                    <option value="Developer" selected>Developer</option>
                    {% else %}
                    <option value="Developer">Developer</option>
                    {% endif %}
                    {% if data.designation == "accountant" %}
                    <option value="accountant" selected>Accountant</option>
                    {% else %}
                    <option value="accountant">Accountant</option>
                    {% endif %}
                    {% if data.designation == "HR" %}
                    <option value="HR" selected>Human Resource</option>
                    {% else %}
                    <option value="HR">Human Resource</option>
                    {% endif %}
                </select>
             </div>
            </div>
            <br>
               <div class="col-lg-3 col-sm-4">
               <div class="form-group">
                <label>Gender</label>
                  
                <select name="gender"  class="form-control">
                    <option value="Male">Male</option>

                    {% if data.gender == "Female" %}
                    <option value="Female" selected>Female</option>
                    {% else %}
                    <option value="Female">Female</option>
                    {% endif %}

                </select>
             </div>
            </div>
            <br>
             <div class="col-lg-3 col-sm-4">
            <div class="form-group">
              <label>About You</label>
              <textarea name="about" placeholder="Write About Yourself" class="form-control" name="about"></textarea>
          </div>
         </div> 
    </div> 
</div>          
<div class="row">
  <div class="col-md-8 mx-auto">
    <button class="btn btn-primary btn-round">
      <i class="material-icons">favorite</i> Sign Up
    </button>
  </div>
</div>

</form>
<script>
  function checkuser(){
      let un = document.getElementById("username").value;
      $.ajax({
          url:"{% url 'check_user' %}",
          type:"get",
          data:{usern:un},
          success:function(data){
              if(data=="Exists"){
                  $("#result").html("This username already taken").addClass("text-danger");
                  $("#username").addClass("alert alert-danger");
                  $("#submitbtn").attr("disabled","disabled");
              }else{
                  $("#result").html("");
                  $("#username").removeClass("alert alert-danger")
                  $("#submitbtn").removeAttr("disabled");
              }
          }
      })
      
  }
</script>

{% if status %}
    <script>
        alert("{{status}}");
        window.location="/"
    </script>
{% endif %}

{% endblock content %} 